#version 330 core

layout(location = 0) in vec3 vertexPosition;
layout(location = 1) in vec3 particlePosition;
layout(location = 2) in vec4 particleColour;


out vec4 pColour;

//the View and Projection Matrix
uniform mat4 VP;
uniform vec3 CamRight_W;
uniform vec3 CamUp_W;

void main(){	
	
	vec3 vertexPosition_worldspace = 
					particlePosition
					+ CamRight_W * vertexPosition.x * 1
					+ CamUp_W * vertexPosition.y * 1;

	//set the vertex position to the appropriate position plus the particle's position
	gl_Position =  VP*vec4(vertexPosition_worldspace,1);
	
	//pass the colour straight through
	pColour = particleColour;
}
